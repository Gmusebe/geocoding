html_text()
wORLD_cOVID19_dATA <- read_html("https://covid19.who.int/table") %>%
html_nodes(".column_Cumulative_Confirmed") %>%
html_text()
view(wORLD_cOVID19_dATA)
wORLD_cOVID19_dATA <- read_html("https://covid19.who.int/table") %>%
html_nodes(".sc-fzqzEs")
View(wORLD_cOVID19_dATA)
wORLD_cOVID19_dATA <- read_html("https://covid19.who.int/table") %>%
html_nodes(".sc-fzqzEs") %>%
html_text()
wORLD_cOVID19_dATA <- read_html("https://covid19.who.int/table")
View(wORLD_cOVID19_dATA)
wORLD_cOVID19_dATA <- read_html(
"https://forecast.weather.gov/MapClick.php?lat=37.7771&lon=-122.4196#.Xl0j6BNKhTY")
View(wORLD_cOVID19_dATA)
read_html(
"https://forecast.weather.gov/MapClick.php?lat=37.7771&lon=-122.4196#.Xl0j6BNKhTY") %>%
html_nodes(".temp") %>%
html_text()
wORLD_cOVID19_dATA <- read_html("https://covid19.who.int/table")
View(wORLD_cOVID19_dATA)
wORLD_cOVID19_dATA <- read_html("https://covid19.who.int/table")
View(wORLD_cOVID19_dATA)
wORLD_cOVID19_dATA <- read_html(
"https://forecast.weather.gov/MapClick.php?lat=37.7771&lon=-122.4196#.Xl0j6BNKhTY")
View(wORLD_cOVID19_dATA)
library(tidyverse)
library(lubridate)
library(dplyr)
library(ggplot2)
library(plotly)
library(scales)
library(rvest)
link <- "https://covid19.who.int/table"
website <- read_html(link)
website
srt(website)
str(website)
data.html <- html_nodes(website, ".hULauc")
data.values <- html_text(data.html)
View(data.values)
View(data.html)
View(data.html)
View(data.html)
data.html <- html_nodes(website, ".hULauc")
View(data.html)
link <- "https://www.imdb.com/search/title/?count=100&groups=oscar_best_picture_winners&sort=year%2Cdesc&ref_=nv_ch_osc"
#Read the HTML code from the website
website <- read_html(link)
website
str(website)
rankings_html <- html_nodes(website, ".text-primary")
ranks_data <- html_text(rankings_html)
View(ranks_data)
#lets view some top elements
head(ranks_data)
link <- "https://www.google.com/search?q=worldwide+covid-19+data&oq=worldwide+covid-19+data&aqs=chrome..69i57.9375j0j1&sourceid=chrome&ie=UTF-8"
#Read the HTML code from the website
website <- read_html(link)
link <- "https://news.google.com/covid19/map?hl=en-KE&mid=%2Fm%2F02j71&gl=KE&ceid=KE%3Aen"
website <- read_html(link)
names_html <- html_nodes(website, ".pcAJd")
names_data <- html_text(names_html)
View(names_data)
head(names_data)
values_html <- html_nodes(website, ".l3HOY")
values_html <- html_nodes(website, ".l3HOY")
values_data <- html_text(values_html)
library(RSelenium)
driver<- rsDriver(browser = c("firefox"))
remDr <- driver[["client"]]
remDr$navigate("https://covid19.who.int/table")
remDr$navigate("https://covid19.who.int/table")
remDr.findElement(By.xpath("//a[@href='/WHO-COVID-19-global-table-data.csv']")).click();
driver.findElement(By.xpath("//a[@href='/WHO-COVID-19-global-table-data.csv']")).click();
remDr$navigate("https://covid19.who.int/table")
cOVID_buTTON <- remDr$findElement(using = "xpath", "//a[@href='/WHO-COVID-19-global-table-data.csv']")
cOVID_buTTON$clickElement()
cOVID_buTTON <- remDr$findElement(using = "xpath", "//a[@href='/WHO-COVID-19-global-table-data.csv']")
cOVID_buTTON$clickElement()
cOVID_buTTON <- remDr$findElement(using = "xpath", "//a[@href='/WHO-COVID-19-global-table-data.csv']")
cOVID_buTTON$clickElement()
remDr$close()
driver[["server"]]$stop()
rm(driver, remDr)
gc()
\q
exit()
\q
q
q()
setwd("~/RProjects/COVID_ANALYSIS/DAta
)
")"
0
)
night_owlish <- "https://raw.githubusercontent.com/batpigandme/night-owlish/master/rstheme/night-owlish.rstheme"
rstudioapi::addTheme(night_owlish, apply = TRUE)
2+2
4/2
3*2^(-0.8)
sqrt
sqrt(2)
pi
log2
log(2)
log(9, base = 3)
exp(1.1)
cos(sqrt(9))
# Probability distributions can be uniquely characterised by thei density of distribution functions
pnorm(q=90, mean = 70, sd= 15 lower.tail = FALSE)
pnorm(q=90, mean = 70, sd= 15, lower.tail = FALSE)
color <- c(rep("Yello", 20), rep("Red", 40), rep("Blue", 30))
table(color)
summary(color)
View(Iris)
View(iris)
summary(iris)
introDS::runShiny('rmd')
install.packages("introDS")
install.packages("shiny")
library(plyr)
library(RCurl)
library(ggmap)
library(ggplot2)
library(leaflet)
library(jsonlite)
library(reshape2)
library(tmaptools)
library(tidyverse)
library(RgoogleMaps)
setwd("~/RProjects/GEOCODOING")
# Import Data:
data <- "Nairobi_Security_Incidents_raw.csv"
security_incidents <- read.csv(data, header = TRUE, na.strings = "")
attach(crime)
crime_data <- subset(
subset(security_incidents, Offence.Type == "CRIME"), Constituency == "STAREHE")
crimemap <- qmap("nairobi", zoom = 11, color = "bw", legend = "bottomleft")
crimemap +
geom_point(aes(x = long, y = lat, colour = Offence.Category, size = Offence.Category),
data = security_incidents)
register_google(key = "AIzaSyDLgK2Ld_sClr5PZgBxJYhlfq_4nXCaVzc")
crimemap <- qmap("nairobi", zoom = 11, color = "bw", legend = "bottomleft")
crimemap +
geom_point(aes(x = long, y = lat, colour = Offence.Category, size = Offence.Category),
data = security_incidents)
crimemap <- qmap("nairobi", zoom = 11, color = "bw", legend = "bottomleft") +
legend("right",bg="transparent",col=c(as.numeric(unique(df$group2))),cex=0.5)
crimemap +
geom_point(aes(x = long, y = lat, colour = Offence.Category, size = Offence.Category),
data = security_incidents)
theme_set(theme_bw(16))
crimemap <- qmap("nairobi", zoom = 11, color = "bw")
crimemap +
geom_point(aes(x = long, y = lat, colour = Offence.Category, size = Offence.Category),
data = security_incidents)
crimemap +
stat_bin2d(
aes(x = long, y = lat, colour = Offence.Category, fill = Offence.Category),
size = .5, bins = 30, alpha = 1/2,
data = security_incidents
)
nairobi <- get_map("nairobi", zoom = 14)
nairobiMap <- ggmap("nairobi", extent = "device")
nairobi <- get_map("nairobi", zoom = 12)
nairobiMap <- ggmap("nairobi", extent = "device")
nairobiMap <- ggmap(nairobi, extent = "device")
nairobiMap +
stat_density2d(
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
)
?qmap
nairobi <- get_map("nairobi", zoom = 12)
nairobiMap <- ggmap(nairobi, extent = "device")
nairobiMap +
stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
)
overlay <- stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 4, geom = "polygon",
data = security_incidents
)
nairobiMap + overlay + inset(
grob = ggplotGrob(ggplot() + overlay + theme_inset()),
xmin = -95.35836, xmax = Inf, ymin = -Inf, ymax = 29.75062
)
data <- "Nairobi_Security_Incidents_raw.csv"
security_incidents <- read.csv(data, header = TRUE, na.strings = "")
attach(crime)
View(security_incidents)
class(security_incidents$Day)
nairobi <- get_map(location = "nairobi", zoom = 14, color = "bw",
source = "stamen")
nairobiMap <- ggmap(nairobi, base_layer = ggplot(aes(x = long, y = lat),
data = security_incidents))
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ as.factor(Day))
nairobi <- get_map(location = "nairobi", zoom = 11, color = "bw",
source = "stamen")
nairobiMap <- ggmap(nairobi, base_layer = ggplot(aes(x = long, y = lat),
data = security_incidents))
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ as.factor(Day))
nairobi <- get_map("nairobi", zoom = 11)
nairobiMap <- ggmap(nairobi, extent = "device")
nairobiMap +
stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
)
nairobiMap +
stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
) +
scale_fill_gradient(low = "blue", high = "red")
nairobiMap +
stat_density2d(
aes(x = long, y = lat, fill = ..level..,),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
) +
scale_fill_gradient(low = "blue", high = "red")
# Violent crime density
nairobi <- get_map("nairobi", zoom = 11)
nairobiMap <- ggmap(nairobi, extent = "device")
nairobiMap +
stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
) +
scale_fill_gradient(low = "blue", high = "red")
nairobi <- get_map("nairobi", zoom = 12)
nairobi <- get_map("nairobi", zoom = 12)
nairobiMap <- ggmap(nairobi, extent = "device")
nairobiMap +
stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
size = 2, bins = 4, data = security_incidents,
geom = "polygon"
) +
scale_fill_gradient(low = "blue", high = "red")
overlay <- stat_density2d(
aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 4, geom = "polygon",
data = security_incidents
)
nairobiMap + overlay + inset(
grob = ggplotGrob(ggplot() + overlay + theme_inset()),
#xmin = -95.35836, xmax = Inf, ymin = -Inf, ymax = 29.75062
)
# Finding violent crime density over the week:
nairobi <- get_map(location = "nairobi", zoom = 11, color = "bw",
source = "stamen")
nairobiMap <- ggmap(nairobi, base_layer = ggplot(aes(x = long, y = lat),
data = security_incidents))
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ as.factor(Day))
security_incidents$Day <- as.factor(security_incidents$Date)
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ Day)
security_incidents$Day <- as.factor(security_incidents$Date)
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ Day)
unique(security_incidents$Day)
security_incidents$Day = factor(
security_incidents$Day,
levels=c('Monday','Tuesday','Wednesday','Thursday', 'Friday', 'Saturday', 'Sunday'))
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ Day)
security_incidents <- read.csv(data, header = TRUE, na.strings = "")
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(~ Day)
security_incidents$Day <-  factor(security_incidents$Day,
levels=c('Monday','Tuesday','Wednesday','Thursday', 'Friday', 'Saturday', 'Sunday'))
nairobiMap <- ggmap(nairobi, base_layer = ggplot(aes(x = long, y = lat),
data = security_incidents))
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_grid(.~ Day)
nairobiMap +
stat_density2d(aes(x = long, y = lat, fill = ..level.., alpha = ..level..),
bins = 5, geom = "polygon",
data = security_incidents) +
scale_fill_gradient(low = "black", high = "red") +
facet_wrap(.~ Day)
mapdist(from, to)
from <- "Westgate Shopping Mall"
to <- "dusitD2"
mapdist(from, to)
from <- "Westgate Shopping Mall Kenya"
to <- "dusitD2"
mapdist(from, to)
from <- "Westgate Shopping Mall Kenya"
to <- "dusitD2"
mapdist(from, to)
from <- "Westgate"
to <- "dusitD2"
mapdist(from, to)
legs_df <- route(
"Westgate Shopping Mall",
"dusitD2",
alternatives = TRUE
)
qmap('Nairobi', zoom = 15, maptype = 'hybrid',
base_layer = ggplot(aes(x = startLon, y = startLat), data = legs_df)) +
geom_leg(
aes(x = startLon, y = startLat, xend = endLon, yend = endLat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
legs_df <- route(
"National Archives Moi Avenue, 5-9, Kirinyaga Rd, Nairobi",
"Westgate Shopping Mall, 15 Mwanzi Rd Nairobi KE",
alternatives = TRUE
)
qmap('Nairobi', zoom = 15, maptype = 'hybrid',
base_layer = ggplot(aes(x = startLon, y = startLat), data = legs_df)) +
geom_leg(
aes(x = startLon, y = startLat, xend = endLon, yend = endLat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
legs_df <- route(
'marrs mclean science, baylor university',
'220 south 3rd street, waco, tx 76701',
alternatives = TRUE
)
qmap('424 clay avenue, waco, tx', zoom = 15, maptype = 'hybrid',
base_layer = ggplot(aes(x = startLon, y = startLat), data = legs_df)) +
geom_leg(
aes(x = startLon, y = startLat, xend = endLon, yend = endLat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
legs_df <- route(
"National Archives Moi Avenue, 5-9, Kirinyaga Rd, Nairobi",
"Westgate Shopping Mall, 15 Mwanzi Rd Nairobi KE",
alternatives = TRUE
)
legs_df
legs_df <- route(
"National Archives Moi Avenue, 5-9, Kirinyaga Rd, Nairobi",
"Westgate Shopping Mall, 15 Mwanzi Rd Nairobi KE",
alternatives = TRUE
)
# ___________________________________________________
nairobi <- get_map("security_incidents", zoom = 14)
qmap('nairobi', zoom = 15, maptype = 'hybrid',
base_layer = ggplot(aes(x = startLon, y = startLat), data = legs_df)) +
geom_leg(
aes(x = startLon, y = startLat, xend = endLon, yend = endLat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
View(legs_df)
qmap('nairobi', zoom = 15, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
qmap('nairobi', zoom = 11, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
legs_df <- route(
"dusitD2 nairobi, 14 Riverside, Riverside Woods off Riverside Drive",
"Westgate Shopping Mall, 15 Mwanzi Rd Nairobi KE",
alternatives = TRUE
)
qmap('nairobi', zoom = 13, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
qmap('nairobi', zoom = 14, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
legs_df <- route(
"Doonholm, Nairobi",
"Westgate Shopping Mall, 15 Mwanzi Rd Nairobi KE",
alternatives = TRUE
)
qmap('nairobi', zoom = 14, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
qmap('nairobi', zoom = 13, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
qmap('nairobi', zoom = 13, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
legs_df <- route(
"Doonholm, Nairobi",
"Westgate Shopping Mall, 15 Mwanzi Rd Nairobi KE",
alternatives = FALSE
)
qmap('nairobi', zoom = 13, maptype = 'hybrid',
base_layer = ggplot(aes(x = start_lon, y = start_lat), data = legs_df)) +
geom_leg(
aes(x = start_lon, y = start_lat, xend = end_lon, yend = end_lat,
colour = route),
alpha = 3/4, size = 2, data = legs_df
) +
labs(x = 'Longitude', y = 'Latitude', colour = 'Route') +
facet_wrap(~ route, ncol = 3) + theme(legend.position = 'top')
library(dplyr)
library(purrr)
library(magick)
install.packages("magick")
library(magick)
MozamBeach_gif <- list.files(path = "GEOCODOING/Mozambique/", pattern = "*.jpg", full.names = T) %>%
map(image_read) %>%
image_join() %>%
image_annotate("Mozambique, 1740 S Coast Hwy, Laguna Beach May 2019 - Aug 2019 ", location = "+10+10", size = 20, color = "white") %>%
image_animate(fps=4) %>%
image_write("MozamBeach.gif")
list.files(path = "GEOCODOING/Mozambique/", pattern = "*.jpg", full.names = T)
Path = "/home/imusebe/RProjects/GEOCODOING/Mozambique"
list.files(path = Path, pattern = "*.jpg", full.names = T)
MozamBeach_gif <- list.files(path = Path, pattern = "*.jpg", full.names = T) %>%
map(image_read) %>%
image_join() %>%
image_annotate("Mozambique, 1740 S Coast Hwy, Laguna Beach May 2019 - Aug 2019 ", location = "+10+10", size = 20, color = "white") %>%
image_animate(fps=4) %>%
image_write("MozamBeach.gif")
